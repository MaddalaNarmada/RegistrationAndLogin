<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Registration Page</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body>
<div class="container">
    <div class="card">
        <form>
            <div class="text-center" id="display"></div>
            <div class="form-group">
                <label>Name</label>
                <input class="form-control" type="text" id="tbname" name="name">
            </div>

            <div class="form-group">
                <label>Email</label>
                <input class="form-control" type="email" id="tbemail" name="email">
            </div>

            <div class="form-group">
                <label>Password</label>
                <input class="form-control" type="password" id="tbpwd" name="password">
            </div>

            <div class="text-center">
                <button type="button" id="btnres" class="btn btn-primary" onclick="registerUser()">Register</button>
            </div><br>
            <div class="text-center">
                <label>Already have account? &nbsp; <a href="login.html">Login Here</a></label>
            </div>


        </form>
    </div>
</div>
</body>
<script>
    function registerUser()
    {
        let name,email,password;
        name=document.getElementById("tbname").value
        email=document.getElementById("tbemail").value
        password=document.getElementById("tbpwd").value

<!--        localStorage.setItem("name",name);-->
<!--        localStorage.setItem("email",email);-->
<!--        localStorage.setItem("password",password);-->
<!--        console.log(localStorage.getItem("name"));-->
<!--        console.log(localStorage.getItem("email"));-->
<!--        console.log(localStorage.getItem("password"));-->
        let user_data = new Array()
         user_data = JSON.parse(localStorage.getItem('userData'))?JSON.parse(localStorage.getItem('userData')):[]
         if(user_data.some((val)=>{
            return val.email==email
         }))
         {
         document.getElementById("display").innerHTML= "&#33; &nbsp;Account already exists &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x"
         document.getElementById("display").style.width= "60%";
         document.getElementById("display").style.height= "50%";
         document.getElementById("display").style.margin="auto";
         document.getElementById("display").style.marginTop="5px";
         document.getElementById("display").style.marginBottom="5px";
         document.getElementById("display").style.padding="auto";
         document.getElementById("display").style.border= "1px dotted gold;"
         document.getElementById("display").style.backgroundColor="red"
         document.getElementById("display").style.opacity="0.6"
         document.getElementById("display").style.color="black";
         document.getElementById("display").style.cursor="context-menu";
<!--         window.location.href="login.html"-->
         }
         else{
            user_data.push({
                    'name':name,
                    'email':email,
                    'password':password
            })
                     document.getElementById("display").innerHTML= "&#9989; &nbsp;Registration successful"
                     document.getElementById("display").style.width= "60%";
                     document.getElementById("display").style.height= "50%";
                     document.getElementById("display").style.margin="auto";
                     document.getElementById("display").style.marginTop="5px";
                     document.getElementById("display").style.marginBottom="5px";
                     document.getElementById("display").style.padding="auto";
                     document.getElementById("display").style.paddingLeft="6px";
                     document.getElementById("display").style.border= "1px dotted gold;"
                     document.getElementById("display").style.backgroundColor="green"
                     document.getElementById("display").style.opacity="0.7"
                     document.getElementById("display").style.color="white";
                     document.getElementById("display").style.cursor="context-menu";
         }

         localStorage.setItem('userData',JSON.stringify(user_data))

    }
</script>
</html>